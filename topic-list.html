<!-- topic list -->
<div class="topicList">
    <ul>
    <li ng-repeat="topic in topicCtrl.topics">
        <a href="" ng-click="topicCtrl.setListIndex($index)">{{topic.title}} ({{topic.comments.length}} comments)</a>
    </li>
    </ul>
</div>
<!-- topic -->
<div class="topicGroup">
    <ul>
    <li ng-repeat="topic in topicCtrl.topics" ng-show="topicCtrl.isListIndex($index)">
        <h2>{{topic.title}}</h2>
        <div>
            <p>{{topic.contents}}</p>
            <p style="text-align: right;">by {{topic.author}} on {{topic.dateAt | date:'yyyy/MM/dd hh:mm'}}</p>
            <!-- commnet -->
            <p>{{topic.comments.length}} comments posted.</p>
            <ul>
            <li ng-repeat="comment in topic.comments">
                <div class="comment">
                    <p style="rows: 5;">{{comment.comment}}</p>
                    <p style="text-align: right;">by {{comment.user}} on {{comment.commentedAt | date:'yyyy/MM/dd hh:mm'}}</p>
                </div>
            </li>
            </ul>

            <!-- post -->
            <div class="comment">
                <form method="post" ng-controller="commentController as commentCtrl" ng-submit="commentCtrl.addComment(topic)">
                    <p>user:<input type="text" ng-model="commentCtrl.comment.user"></input></p>
                    <textarea ng-model="commentCtrl.comment.comment" placeholder="write your comment."></textarea>
                    <br/>
                    <input type="submit" value="submit comment"></submit>
                </form>
            </div>
        </div>
    </li>
    <ul>
</div>
